# github-starter

Мини‑шаблон для быстрого старта локального репозитория с удобной публикацией на GitHub. Содержит два простых скрипта: настройка `origin` и публикация с авто‑созданием репозитория по токену.

Зачем это нужно
- Быстро подключить GitHub к локальному репо без ручной рутины.
- Автоматически создать репозиторий в аккаунте, если его ещё нет (по токену).
- Пушить текущую ветку (не только `main`).

Быстрый старт
- Подключить origin: `./set-origin.sh <github_user> <repo_name>`
  - Альтернатива: запустить без аргументов и ответить на вопросы.
- (Опционально) задать токен: `export GITHUB_TOKEN=...` со scope `repo`.
- Опубликовать: `./publish.sh`
  - Скрипт проверит/создаст репозиторий и запушит текущую ветку.

Скрипты
- `set-origin.sh`: устанавливает `origin` в формате `git@github.com:user/repo.git`.
  - Можно передать параметры: `set-origin.sh user repo`.
  - Или использовать интерактивный ввод.
- `publish.sh`:
  - Парсит `origin` (ssh или https) → `owner`/`repo`.
  - Если есть `GITHUB_TOKEN` — проверяет наличие репозитория и создаёт его при отсутствии (как приватный).
  - Пушит текущую ветку в `origin` с `-u`.

Переменные окружения
- `GITHUB_TOKEN`: персональный токен со scope `repo` для API вызовов.
- `GIT_SSH_COMMAND`: можно переопределить SSH-опции (по умолчанию `ssh -o StrictHostKeyChecking=accept-new`).
- `GITHUB_REPO_DESCRIPTION` (опционально): описание репозитория при авто‑создании.
- `GITHUB_REPO_PRIVATE` (опционально): `false` — создаст публичный репозиторий (по умолчанию приватный).

Поддерживаемые форматы origin
- `git@github.com:user/repo.git`
- `https://github.com/user/repo.git`

FAQ / Частые вопросы
- Репозиторий уже существует? — Скрипт просто выполнит push текущей ветки.
- Нет токена? — Создание пропускается, будет попытка push в существующий репозиторий.
- Не на `main`? — Пушится именно текущая ветка, определяемая через `git rev-parse --abbrev-ref HEAD`.

Требования
- Установленные `git` и доступ в интернет (для публикации/создания).
- Для SSH‑урла нужен настроенный ключ в GitHub.

Пример
```
./set-origin.sh johndoe my-new-repo
export GITHUB_TOKEN=ghp_xxx...
export GITHUB_REPO_DESCRIPTION="Мой быстрый стартовый репозиторий"
./publish.sh
```

Инструкция по публикации на GitHub
- Настройка origin: запустите `./set-origin.sh` и укажите `user` и `repo`.
- Токен (опционально): экспортируйте `GITHUB_TOKEN` со scope `repo`.
  Пример: `export GITHUB_TOKEN=ghp_xxx`.
- Публикация: выполните `./publish.sh` — скрипт создаст репозиторий (если токен задан и репо отсутствует) и запушит текущую ветку.
- Без токена: скрипт просто попытается сделать `git push -u origin <ветка>`.

Примечания
- Поддерживаются URL origin форматов `git@github.com:user/repo.git` и `https://github.com/user/repo.git`.
- Репозиторий создаётся под аутентифицированным пользователем (`/user/repos`) и приватным по умолчанию.
- Скрипт пушит именно текущую ветку (а не жёстко `main`).
